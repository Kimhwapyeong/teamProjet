<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
  				<!-- 경로 + xml 파일명 -->
<mapper namespace="com.gogo.mapper.MainMapper">
	
	<!-- stay 등록 -->
	<insert id="insert">
		insert into stay (stayno, memberid, stayname, stayloc, stayadress
						, stayinfo, staytype, badge, latitude, longitude)
		values (stayseq.nextval, #{memberId}, #{stayName}, #{stayLoc}, #{stayAdress}
				,#{stayInfo}, #{stayType}, #{badge}, #{latitude}, #{longitude})
	</insert>
	
	<!-- room 등록 -->
	<insert id="insertRoom">
		<selectKey keyProperty="roomNo" order="BEFORE" resultType="String">
			select roomseq.nextval from dual
		</selectKey>
		insert into room (roomno, stayno, roomname, stdperson
						, overperson, roominfo, price, roomtype, info)
		values (#{roomNo}, #{stayNo}, #{roomName}, #{stdPerson}
				, #{overPerson}, #{roomInfo}, #{price}, #{roomType}, #{info})
	</insert>
	
	<!-- room 옵션 등록 -->
	<insert id="insertRoomOption">
		insert into roomoptionyn (roomno, stayno, bathroom, kitchen, parking
						, babiqu, pet, terrace, pool, bed, beamprojector)
		values (#{roomNo}, #{stayNo}, #{bathroom}, #{kitchen}, #{parking}
						, #{babiqu}, #{pet}, #{terrace}, #{pool}, #{bed}, #{beamProjector})
	</insert>
	
	<!-- 사진 등록 -->
	<insert id="insertPhoto">
		insert into attach (uuid, uploadpath, filename, stayno, roomno)
		values (#{uuid}, #{uploadPath}, #{fileName}, #{stayNo}, #{roomNo})
	</insert>
	
	<!-- 스테이 등록 -->
	<insert id="insertStay">
		<selectKey keyProperty="stayNo" order="BEFORE" resultType="String">
			select stayseq.nextval from dual
		</selectKey>
		insert into stay (stayno, memberid, stayname, stayloc, stayadress
						, stayinfo, staytype, badge, latitude, longitude, stayview)
		values (#{stayNo}, #{memberId}, #{stayName}, #{stayLoc}, #{stayAdress}
				, #{stayInfo}, #{stayType}, #{badge}, #{latitude}, #{longitude}, #{stayView})
	</insert>
</mapper>