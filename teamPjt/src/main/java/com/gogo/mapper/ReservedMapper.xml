<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.gogo.mapper.ReservedMapper">
	
	<insert id="insertReserved">
		insert into reservation 
		values(#{reservationNo}, #{roomNo}, #{memberId}, sysdate, #{checkIn}, #{checkOut}, #{memberCount})
	</insert>
	
	<select id="selectOne_room" resultType="com.gogo.vo.RoomVO">
		select * from Room where roomNo = #{roomNo}
	</select>
	
	<select id="selectOne_room_stayNo" resultType="com.gogo.vo.RoomVO">
		select * from Room where stayNo = #{stayNo}
	</select>
	
	<select id="selectOne_stay" resultType="com.gogo.vo.StayVO">
		select * from Stay where stayNo = #{stayNo}
	</select>
	
	<select id="selectOne_reservation_roomNo" resultType="com.gogo.vo.ReservedVO">
		select * from reservation where roomNo = #{roomNo}
	</select>
	
	<select id="reservedDay" resultType="String">
		select checkOut-checkIn from reservation where reservationNo = #{reservationNo}
	</select>
	
	<select id="reservedDay2" resultType="String">
		select to_date('${checkOut}')- to_date('${checkIn}') from dual
	</select>
	
	<select id="getReservationNo" resultType="String">
		select reservationseq.nextval from dual
	</select>

</mapper>